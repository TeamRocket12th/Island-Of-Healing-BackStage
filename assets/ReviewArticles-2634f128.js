import{e as p,f as g,i as u,o as m,c as f,a as e,j as r,v as b,k as h,l as v}from"./index-9123ebf3.js";const _={class:"flex flex-col gap-4 mb-4"},k=e("span",{class:"mb-6"},"*目前API無法取得單篇文章進度",-1),I={class:"flex gap-4"},w=e("label",{for:"articleId",class:"block mb-3"},"請輸入文章ID",-1),y={class:"mb-4 flex gap-4"},S=e("p",{class:"mb-3"},"變更審核進度",-1),x=v('<option disabled selected>審核進度</option><option value="0">草稿</option><option value="1">待審核</option><option value="2">審核中</option><option value="3">審核失敗</option><option value="4">審核成功</option>',6),$=[x],P=p({__name:"ReviewArticles",setup(C){const c="https://islandofhealing.rocket-coding.com/api",n=g(""),l=u({Progress:""}),i=async()=>{console.log("click");const a=localStorage.getItem("token"),t=localStorage.getItem("adminId");if(!(!a&&!t))try{const s=await(await fetch(`${c}/readarticle/${n.value}/${t}`,{headers:{"Content-type":"application/json"}})).json();if(console.log(s),s.StatusCode===200)alert(s.Message);else throw new Error(`發生錯誤 ${s.Message}`)}catch(o){console.log(o)}},d=async()=>{console.log("click");const a=localStorage.getItem("token"),t=localStorage.getItem("adminId");if(!(!a&&!t))try{const s=await(await fetch(`${c}/article/updateprogress/${n.value}`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${a}`},method:"PUT",body:JSON.stringify(l)})).json();if(console.log(s),s.StatusCode===200)alert(s.Message);else throw new Error(`發生錯誤 ${s.Message}`)}catch(o){console.log(o)}};return(a,t)=>(m(),f("div",_,[k,e("div",I,[e("div",null,[w,r(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>n.value=o),type:"text",placeholder:"文章ID",class:"input input-bordered input-sm w-40"},null,512),[[b,n.value]])]),e("button",{class:"btn btn-sm bg-gray-200 self-end",onClick:i},"GET (X)")]),e("div",y,[e("div",null,[S,r(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.Progress=o),class:"w-40 select select-sm select-bordered"},$,512),[[h,l.Progress]])]),e("button",{type:"button",class:"btn-sm bg-gray-200 btn self-end",onClick:d}," 確認 ")])]))}});export{P as default};
