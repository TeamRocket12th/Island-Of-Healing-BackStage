import{e as h,f as y,j as m,c as a,a as t,F as _,h as x,i as u,o as n,t as i}from"./index-2009ee37.js";const f={key:0,class:"flex flex-col"},w={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},k={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},b={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},v={class:"min-w-full divide-y divide-gray-200"},C=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left font-medium text-gray-500 uppercase tracking-wider"}," ID "),t("th",{scope:"col",class:"px-6 py-3 text-left font-medium text-gray-500 uppercase tracking-wider"}," 大頭照 "),t("th",{scope:"col",class:"px-6 py-3 text-left font-medium text-gray-500 uppercase tracking-wider"}," 帳號 "),t("th",{scope:"col",class:"px-6 py-3 text-left font-medium text-gray-500 uppercase tracking-wider"}," 暱稱 "),t("th",{scope:"col",class:"px-6 py-3 text-left font-medium text-gray-500 uppercase tracking-wider"}," 申請狀態 "),t("th",{scope:"col",class:"px-6 py-3 text-left font-medium text-gray-500 uppercase tracking-wider"}," 動作 ")])],-1),$={class:"bg-white divide-y divide-gray-200"},I={class:"px-6 py-4 whitespace-nowrap text-gray-500"},B={class:"px-6 py-4 whitespace-nowrap text-gray-500"},j=["src"],S={class:"px-6 py-4 whitespace-nowrap text-gray-500"},U={class:"px-6 py-4 whitespace-nowrap text-gray-500"},A={class:"px-6 py-4 whitespace-nowrap text-gray-500"},D={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},M={key:0,class:"flex gap-4"},E=["onClick"],N=["onClick"],P={key:1},V=h({__name:"ＭanageUsers",setup(z){const d="https://islandofhealing.rocket-coding.com/api",l=y([]),p=async()=>{const s=localStorage.getItem("token");if(s)try{const e=await(await fetch(`${d}/administratorwriters/get`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${s}`}})).json();if(console.log(e),e.StatusCode===200)l.value=e.UserData;else throw new Error(`發生錯誤 ${e.Message}`)}catch(o){console.log(o)}};m(p);const g=async(s,o)=>{const e=localStorage.getItem("token");if(e)try{const r=await(await fetch(`${d}/applyforwriterresult/${s}/${o}`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${e}`},method:"PUT"})).json();if(console.log(r),r.StatusCode===200)alert(r.Message),p();else throw new Error(`發生錯誤 ${r.Message}`)}catch(c){console.log(c)}};return(s,o)=>l.value?(n(),a("div",f,[t("div",w,[t("div",k,[t("div",b,[t("table",v,[C,t("tbody",$,[(n(!0),a(_,null,x(l.value,e=>(n(),a("tr",{key:e.Id},[t("td",I,i(e.Id),1),t("td",B,[t("img",{src:e.ImgUrl,alt:"User Image",class:"h-10 w-10 rounded-full"},null,8,j)]),t("td",S,i(e.Account),1),t("td",U,i(e.Nickname),1),t("td",A,i(e.WriterProgress),1),t("td",D,[e.WriterProgress==="已申請"?(n(),a("div",M,[t("button",{type:"button",class:"btn btn-sm font-medium bg-green-300",onClick:c=>g(e.Id,"3")}," 審核通過 ",8,E),t("button",{type:"button",class:"btn btn-sm font-medium bg-red-300",onClick:c=>g(e.Id,"2")}," 審核失敗 ",8,N)])):(n(),a("div",P,"-"))])]))),128))])])])])])])):u("",!0)}});export{V as default};
